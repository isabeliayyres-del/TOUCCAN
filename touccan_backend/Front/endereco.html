<!doctype html> 
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Touccan ‚Äî Endere√ßo</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="endereco-body">

  <header class="endereco-header">
    <div class="endereco-header-left">
      <a class="btn-voltar" onclick="history.back()">
        <img src="assets/seta-branca.png" alt="Voltar">
      </a>
      <span class="endereco-page-title">Criar conta</span>
    </div>

    <div class="endereco-logo">
      <img src="assets/logo.png" alt="Touccan" class="endereco-logo-img" />
      <span class="endereco-logo-text">Touccan</span>
    </div>
  </header>

  <main class="endereco-main">
    <section class="endereco-card">
      
      <div class="endereco-left">
        <h2 class="endereco-left-title">Crie uma conta</h2>
        <p class="endereco-left-text">
          O que est√° esperando? Garanta j√° a sua compra, e aproveite as ofertas especiais que preparamos para voc√™.
          Na nossa plataforma, voc√™ tem tudo o que precisa, com seguran√ßa, praticidade e o melhor pre√ßo.
        </p>
        <p class="endereco-left-login">
          J√° tem uma conta?
          <a class="endereco-left-login-link" href="login.html">Entrar</a>
        </p>
      </div>

      <div class="endereco-divider" aria-hidden="true"></div>

      <div class="endereco-right">
        <form class="endereco-form" action="login.html" method="post" novalidate>

          <button type="button" class="endereco-localizacao">
            <span>Utilize sua localiza√ß√£o atual</span>
            <span class="endereco-icon">üìç</span>
          </button>

          <div class="endereco-row">
            <label class="endereco-label">
              CEP
              <input type="text" class="endereco-input" name="cep" maxlength="10" />
            </label>
            <label class="endereco-label">
              N√∫mero
              <input type="text" class="endereco-input" name="numero" />
            </label>
            <label class="endereco-label">
              Complemento
              <input type="text" class="endereco-input" name="complemento" />
            </label>
          </div>

          <label class="endereco-label">
            Rua
            <input type="text" class="endereco-input" name="rua" />
          </label>

          <label class="endereco-label">
            Bairro
            <input type="text" class="endereco-input" name="bairro" />
          </label>

          <div class="endereco-row">
            <label class="endereco-label">
              Cidade
              <input type="text" class="endereco-input" name="cidade" />
            </label>
            <label class="endereco-label">
              Estado
              <input type="text" class="endereco-input" name="estado" maxlength="2" />
            </label>
          </div>

          <button type="submit" class="endereco-btn">CRIAR</button>
        </form>
      </div>
    </section>
  </main>

  <script>
    document.querySelector(".endereco-form").addEventListener("submit", function (e) {
      e.preventDefault();

      let usuario = JSON.parse(localStorage.getItem("usuario"));

      if (!usuario) {
        alert("Erro: usu√°rio n√£o encontrado!");
        return;
      }

      // PEGAR CAMPOS
      const cep = document.querySelector("input[name='cep']").value;
      const numero = document.querySelector("input[name='numero']").value;
      const complemento = document.querySelector("input[name='complemento']").value;
      const rua = document.querySelector("input[name='rua']").value;
      const bairro = document.querySelector("input[name='bairro']").value;
      const cidade = document.querySelector("input[name='cidade']").value;
      const estado = document.querySelector("input[name='estado']").value;

      // ADICIONAR AO OBJETO
      usuario.endereco = {
        cep: cep,
        numero: numero,
        complemento: complemento,
        rua: rua,
        bairro: bairro,
        cidade: cidade,
        estado: estado
      };

      // SALVAR ATUALIZADO
      localStorage.setItem("usuario", JSON.stringify(usuario));

      // FINAL DO FLUXO ‚Üí IR PARA LOGIN
      window.location.href = "login.html";
    });
  </script>






</body>
</html>