<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Touccan — Produtos</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <header class="header">
      <a class="btn-voltar" onclick="history.back()">
        <img src="assets/seta-branca.png" alt="Voltar">
      </a>
      <div class="logo">
        <img src="assets/logo.png" alt="Touccan logo">
        <span>Touccan</span>
      </div>
      <nav class="nav">
        <a href="index.html">Início</a>
        <a href="produtos.html">Produtos</a>
        <a class="cart-icon" href="checkout.html">
        <img src="assets/sacola.png" alt="Carrinho">
        <span class="cart-count">0</span>
        </a>
        <a href="meu-perfil.html" class="btn cta">Meu Perfil</a>
      </nav>
  </header>

  <main class="produtos-p-main">

    <div class="produtos-p-search-bar" style="margin-top: 20px;">
      <input type="text" placeholder="Buscar produtos...">
      <button class="produtos-p-search-btn">
        <img src="assets/search.png" alt="Buscar" style="width:18px; height:18px; vertical-align:middle;">
      </button>
    </div>

    <h1 style="margin:20px 0;">Todos os produtos</h1>

    <div class="produtos-p-products-grid">

      <div class="produtos-p-card"><img src="assets/produto1.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto2.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto3.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto4.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>

      <div class="produtos-p-card"><img src="assets/produto1.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto2.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto3.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto4.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>

      <div class="produtos-p-card"><img src="assets/produto1.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto2.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto3.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto4.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>

      <div class="produtos-p-card"><img src="assets/produto1.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto2.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto3.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>
      <div class="produtos-p-card"><img src="assets/produto4.png"><p>Ração para sabiá 5kg</p><span class="produtos-p-price">R$125,99</span><button>Adicionar</button></div>

    </div>

  </main>

  <footer class="produtos-p-footer">
    <div class="produtos-p-col produtos-p-sobre">
      <h4>SOBRE</h4>
      <p>Nós oferecemos uma plataforma moderna e intuitiva que conecta compradores e vendedores de maneira simples e segura...</p>
    </div>

    <div class="produtos-p-col">
      <h4>ACESSO RÁPIDO</h4>
      <ul>
        <li><a href="produtos.html">Produtos</a></li>
        <li><a href="checkout.html">Carrinho</a></li>
        <li><a href="#">Configurações</a></li>
        <li><a href="#">Central de Ajuda</a></li>
      </ul>
    </div>

    <div class="produtos-p-col">
      <h4>COMO FUNCIONA</h4>
      <ul>
        <li><a href="#">Sobre nós</a></li>
        <li><a href="#">Vantagens</a></li>
        <li><a href="#">Tarifas e Prazos</a></li>
        <li><a href="#">Formas de Pagamento</a></li>
      </ul>
    </div>

    <div class="produtos-p-col">
      <h4>INSTITUCIONAL</h4>
      <ul>
        <li><a href="#">Termos de uso</a></li>
        <li><a href="#">Política de privacidade</a></li>
        <li><a href="#">Política de reembolso</a></li>
        <li><a href="#">Trabalhe conosco</a></li>
      </ul>
    </div>
  </footer>

  <div class="produtos-p-copyright">
    Copyright © TOUCCAN 2025-2025 | CNPJ: 00.000.000/0000-00
  </div>

  <style>
    .produtos-p-products-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 22px;
      padding: 20px 0 60px;
    }
  </style>

  <script>

    
    function atualizarQuantidadeCarrinho() {
      const carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
      const countEl = document.querySelector(".cart-count");
      if (countEl) countEl.innerText = carrinho.length;
    }

    atualizarQuantidadeCarrinho();


    
    function animarParaCarrinho(img) {

      const rect = img.getBoundingClientRect();

      const clone = img.cloneNode();
      clone.style.position = "fixed"; 
      clone.style.zIndex = "9999";
      clone.style.width = rect.width + "px";
      clone.style.height = rect.height + "px";
      clone.style.left = rect.left + "px";
      clone.style.top = rect.top + "px";
      clone.style.transition = "all 0.8s ease";

      document.body.appendChild(clone);

      const cart = document.querySelector(".cart-icon img");
      const rectCart = cart.getBoundingClientRect();

      setTimeout(() => {
        clone.style.left = rectCart.left + "px";
        clone.style.top = rectCart.top + "px";
        clone.style.opacity = "0";
        clone.style.width = "6px";
        clone.style.height = "6px";
      }, 50);

      setTimeout(() => clone.remove(), 900);

      
      setTimeout(() => {
        cart.classList.add("shake");
        setTimeout(() => cart.classList.remove("shake"), 400);
      }, 850);
    }


    
    function configurarBotoes() {
      document.querySelectorAll(".card button, .produtos-p-card button").forEach(btn => {
        btn.addEventListener("click", () => {

          const card = btn.closest(".card, .produtos-p-card");

          const produto = {
            nome: card.querySelector("p").innerText,
            preco: parseFloat(card.querySelector(".price, .produtos-p-price").innerText.replace("R$", "").replace(",", ".")),
            imagem: card.querySelector("img").src
          };

          let carrinho = JSON.parse(localStorage.getItem("carrinho")) || [];
          carrinho.push(produto);
          localStorage.setItem("carrinho", JSON.stringify(carrinho));

          atualizarQuantidadeCarrinho();

          animarParaCarrinho(card.querySelector("img"));
        });
      });
    }

    configurarBotoes();

  </script>

  <script>
      function carregarUsuarioHeader() {
      const area = document.querySelector(".perfil-area");
      const logado = localStorage.getItem("logado");
      const user = JSON.parse(localStorage.getItem("usuario"));

      if (!logado || !user) {
        area.innerHTML = `
          <a href="login.html" class="btn">Entrar</a>
          <a href="criar-conta.html" class="btn cta">Criar Conta</a>
        `;
        return;
      }

      area.innerHTML = `
        <a href="meu-perfil.html" class="header-user">
          <img src="${user.foto || 'assets/user.png'}" class="header-avatar">
          <span>${user.nome.split(" ")[0]}</span>
        </a>
      `;
    }

    carregarUsuarioHeader();

  </script>

  <style>
    .header-user{
      display:flex;
      align-items:center;
      gap:8px;
      background:#ffffff20;
      padding:8px 14px;
      border-radius:8px;
      color:white;
    }
    .header-avatar{
      width:32px;
      height:32px;
      border-radius:50%;
      object-fit:cover;
    }
  </style>





</body>
</html>